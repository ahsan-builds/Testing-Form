<!doctype html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Business - NexusXperts</title>

  <!-- Tailwind build -->
  <link rel="stylesheet" href="output.css" />
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Favicon -->
  <link rel="icon" href="Assets/Logo.png" />
</head>

<body class="bg-nexus-light dark:bg-nexus-gradient text-[#263d83] dark:text-white min-h-screen flex flex-col mx-auto">
  <script src="Theme.js"></script>

  <!-- TOAST ROOT (top-right) -->
  <div id="toast-root" class="fixed top-4 right-4 z-[100] space-y-3 pointer-events-none"></div>

  <!-- WIDTH-ONLY CONTAINER -->
  <div class="w-full mx-auto
              max-w-screen-xl
              xl:max-w-[1540px]
              2xl:max-w-[1640px]
              min-[1920px]:max-w-[1760px]
              min-[2560px]:max-w-[2200px]">

    <!-- Breadcrumb (compact on mobile) -->
    <div class="fixed z-50 left-2 top-3 sm:left-5 sm:top-5">
      <nav aria-label="Breadcrumb" class="bg-black/30 dark:bg-white/10 backdrop-blur-md
                  px-2.5 py-1.5 sm:px-4 sm:py-2
                  border border-white/15">
        <ol class="flex items-center gap-1.5 sm:gap-3
                   text-[11px] sm:text-sm md:text-base
                   text-zinc-100 dark:text-zinc-200
                   max-w-[90vw] sm:max-w-none">
          <!-- Home -->
          <li class="min-w-0">
            <a href="index.html" class="inline-flex items-center gap-1.5 sm:gap-2 hover:text-white dark:hover:text-white font-medium
                      max-w-[38vw] sm:max-w-none truncate">
              <svg class="w-3.5 h-3.5 sm:w-5 sm:h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M3 9.5L12 3l9 6.5V21a1 1 0 0 1-1 1h-5v-7H9v7H4a1 1 0 0 1-1-1V9.5z"></path>
              </svg>
              <span class="truncate">Home</span>
            </a>
          </li>

          <!-- Separator -->
          <li aria-hidden="true" class="px-0.5 sm:px-0 mt-[1px]">
            <svg class="w-3.5 h-4 sm:w-4 sm:h-5 text-zinc-300 dark:text-zinc-100" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </li>

          <!-- Current Page -->
          <li class="font-semibold text-white dark:text-zinc-100 tracking-wide min-w-0">
            <span class="truncate max-w-[44vw] sm:max-w-none">Business</span>
          </li>
        </ol>
      </nav>
    </div>

    <!-- HERO -->
    <header class="relative w-full min-h-[80vh] sm:min-h-[90vh] lg:min-h-[100vh]">
      <img src="Assets/Build.webp" alt="Business Banner"
        class="absolute inset-0 w-full h-full object-cover dark:brightness-100 dark:invert" />
      <div class="absolute inset-0 dark:bg-black/30"></div>

      <div class="relative flex items-center h-full px-4 sm:px-6 lg:px-10">
        <div class="max-w-4xl text-left mt-16">
          <h1 class="text-2xl sm:text-4xl md:text-5xl font-bold mb-4">Let's Talk Business</h1>
          <p class="text-gray-700 dark:text-gray-300 text-base sm:text-lg md:text-xl max-w-2xl lg:max-w-3xl mb-6">
            We're excited to connect with ambitious individuals and forward-thinking businesses. Our goal is to
            explore meaningful opportunities, foster lasting partnerships, and collaborate on projects that
            drive innovation.
          </p>
          <div class="mt-6 flex flex-col sm:flex-row gap-3">
            <!-- border-only button to match Blogs pattern -->
            <a href="#contact"
              class="inline-flex items-center justify-center gap-2 bg-white text-[#263d83] border border-[#263d83] hover:bg-[#263d83] hover:text-white px-6 py-3 rounded-none font-semibold transition">
              Start the Conversation <i class="fa-solid fa-paper-plane"></i>
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- CONTACT FORM -->
    <section id="contact" class="py-16 sm:py-20" style="font-family: Arial, sans-serif;">
      <!-- border-only panel, square edges, no shadow + BG color -->
      <div class="max-w-3xl mx-auto px-4 sm:px-6 border-2 border-[#263d83]/20 dark:border-white/20 rounded-none
                  bg-[#F6F8FF] dark:bg-white/5">
        <div class="p-6 sm:p-8 md:p-10">
          <h2 class="text-2xl sm:text-3xl font-bold mb-3 text-[#263d83] dark:text-white">Start the Conversation</h2>
          <p class="dark:text-gray-300 mb-8">Fill out the form below and we'll respond as soon as possible.</p>

          <form id="biz-form" action="https://formsubmit.co/contact@nexusxperts.com" method="POST"
            class="space-y-5 dark:text-white" novalidate>
            <!-- FormSubmit controls -->
            <input type="hidden" name="_subject" value="New Business Inquiry - nexusxperts.com" />
            <input type="hidden" name="_template" value="table" />
            <input type="hidden" name="_captcha" value="false" />
            <input type="hidden" name="_url" value="https://nexusxperts.com/business" />
            <input type="hidden" name="_next" value="https://nexusxperts.com/thanks.html" />

            <!-- Honeypot -->
            <div class="hidden" aria-hidden="true">
              <label for="_honey">Do not fill this out</label>
              <input type="text" id="_honey" name="_honey" tabindex="-1" autocomplete="off" />
            </div>

            <!-- First + Last Name -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
              <div>
                <label for="first_name" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                  First Name <span class="text-red-600">*</span>
                </label>
                <input id="first_name" name="first_name" required type="text" placeholder="Enter first name"
                  autocomplete="given-name"
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
                <p data-err="first_name" class="mt-1 text-xs text-red-600 hidden"></p>
              </div>
              <div>
                <label for="last_name" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                  Last Name <span class="text-red-600">*</span>
                </label>
                <input id="last_name" name="last_name" required type="text" placeholder="Enter last name"
                  autocomplete="family-name"
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
                <p data-err="last_name" class="mt-1 text-xs text-red-600 hidden"></p>
              </div>
            </div>

            <!-- Email -->
            <div>
              <label for="email" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                Email <span class="text-red-600">*</span>
              </label>
              <input id="email" name="email" required type="email" placeholder="someone@example.com"
                autocomplete="email"
                class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
              <p data-err="email" class="mt-1 text-xs text-red-600 hidden"></p>
            </div>

            <!-- Phone (Worldwide) -->
            <div>
              <label class="block text-sm mb-1 text-[#263d83] dark:text-white">
                Phone Number <span class="text-red-600">*</span>
              </label>
              <div class="flex gap-2">
                <input id="phone_cc" name="phone_cc" required type="text" inputmode="numeric" placeholder="+92"
                  value="+92" pattern="^\\+\\d{1,4}$" maxlength="5"
                  class="w-28 h-12 px-3 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
                <input id="phone" name="phone" required type="text" inputmode="numeric" placeholder="e.g., 3001234567"
                  pattern="^\\d{6,15}$" maxlength="15"
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
              </div>
              <p class="text-xs text-gray-600 mt-1">
                Country code: <strong>+ and 1–4 digits</strong> (e.g., +1, +44, +92). Number: <strong>6–15
                  digits</strong>, no spaces.
              </p>
              <p data-err="phone_cc" class="mt-1 text-xs text-red-600 hidden"></p>
              <p data-err="phone" class="mt-1 text-xs text-red-600 hidden"></p>
            </div>

            <!-- Budget + Company -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
              <div>
                <label for="budget" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                  Budget <span class="text-red-600">*</span>
                </label>
                <input id="budget" name="budget" required type="text" placeholder="Your Budget" autocomplete="off"
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
                <p data-err="budget" class="mt-1 text-xs text-red-600 hidden"></p>
              </div>
              <div>
                <label for="company" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                  Company Name <span class="text-red-600">*</span>
                </label>
                <input id="company" name="company" required type="text" placeholder="Your company name"
                  autocomplete="organization"
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
                <p data-err="company" class="mt-1 text-xs text-red-600 hidden"></p>
              </div>
            </div>

            <!-- Domain + Region -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
              <div>
                <label for="domain" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                  Company Domain / URL
                </label>
                <input id="domain" name="domain" type="url" placeholder="https://yourcompany.com" inputmode="url"
                  autocomplete="url"
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none" />
                <p data-err="domain" class="mt-1 text-xs text-red-600 hidden"></p>
              </div>
              <div>
                <label for="region" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                  Region <span class="text-red-600">*</span>
                </label>
                <select id="region" name="region" required
                  class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none text-[#263d83] dark:text-white">
                  <option class="text-black" value="">Please Select</option>
                  <option class="text-[#263d83]" value="asia">Asia</option>
                  <option class="text-[#263d83]" value="europe">Europe</option>
                  <option class="text-[#263d83]" value="america">America</option>
                  <option class="text-[#263d83]" value="africa">Africa</option>
                  <option class="text-[#263d83]" value="australia">Australia</option>
                </select>
                <p data-err="region" class="mt-1 text-xs text-red-600 hidden"></p>
              </div>
            </div>

            <!-- Services -->
            <div>
              <label for="services" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                Services you're looking for <span class="text-red-600">*</span>
              </label>
              <select id="services" name="services" required
                class="w-full h-12 px-4 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-[#263d83] dark:placeholder-[#263d83] focus:outline-none focus:border-[#4966AE] rounded-none text-[#263d83] dark:text-white">
                <option class="text-black" value="">Select a service</option>
                <option class="text-[#263d83]">Generative AI/Chatbot</option>
                <option class="text-[#263d83]">AI & Machine Learning</option>
                <option class="text-[#263d83]">Web Development</option>
                <option class="text-[#263d83]">DevOps & Automation</option>
                <option class="text-[#263d83]">App Design & Develop</option>
                <option class="text-[#263d83]">Cybersecurity</option>
                <option class="text-[#263d83]">Cloud Solutions</option>
                <option class="text-[#263d83]">UI/UX Design</option>
                <option class="text-[#263d83]">Automation Tools</option>
                <option class="text-[#263d83]">Digital Marketing</option>
              </select>
              <p data-err="services" class="mt-1 text-xs text-red-600 hidden"></p>
            </div>

            <!-- Project -->
            <div>
              <label for="project_details" class="block text-sm mb-1 text-[#263d83] dark:text-white">
                Project Details <span class="text-red-600">*</span>
              </label>
              <textarea id="project_details" name="project_details" required rows="5"
                placeholder="Tell us about your project..."
                class="w-full px-4 py-3 bg-white/70 dark:bg-transparent border border-[#263d83]/30 dark:border-white/20 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-[#4966AE] rounded-none"></textarea>
              <p data-err="project_details" class="mt-1 text-xs text-red-600 hidden"></p>
            </div>

            <!-- Submit -->
            <button type="submit" id="submitBtn"
              class="flex items-center justify-center gap-2 bg-white text-[#263d83] border border-[#263d83] hover:bg-[#263d83] hover:text-white px-6 py-3 rounded-none font-semibold transition w-full sm:w-auto">
              <span>Send Message</span>
              <i class="fa-solid fa-paper-plane" aria-hidden="true"></i>
            </button>

            <!-- Screen-reader only live region -->
            <p id="form-status" class="sr-only" aria-live="polite"></p>
          </form>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-[#263d83] dark:text-gray-300">
      <div class="mx-auto px-12 py-12 flex flex-col md:flex-row md:justify-between md:items-start gap-12">
        <!-- About -->
        <div class="max-w-xs">
          <h6 class="mb-4 font-semibold text-xl uppercase">NexusXperts</h6>
          <p class="leading-relaxed mb-6">
            We deliver AI-powered web and mobile solutions that transform businesses. Partner with us to
            unlock opportunities and drive real results.
          </p>

          <!-- Social icons -->
          <div class="flex gap-5">
            <a href="https://share.google/I6qkB9UdD4kLe2hla" target="_blank" aria-label="Facebook"
              class="[&>svg]:w-5 [&>svg]:h-5 hover:text-blue-600 transition">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 320 512">
                <path
                  d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z" />
              </svg>
            </a>
            <a href="https://x.com/NexusXperts" target="_blank" aria-label="Twitter"
              class="[&>svg]:w-5 [&>svg]:h-5 hover:text-sky-500 transition">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 512 512">
                <path
                  d="M459.4 151.7c.3 4.5 .3 9.1 .3 13.6c0 138.7-105.6 298.6-298.6 298.6c-59.4 0-114.6-17.1-161.1-47.1c8.4 1 16.6 1.3 25.2 1.3c49.1 0 94.2-16.6 130-44.8c-46.2-1-84.8-31.2-98.1-72.8c6.5 1 13.1 1.6 20 1.6c9.4 0 18.4-1.3 26.9-3.6c-48.1-9.7-84.3-52.1-84.3-103v-1.3c14.3 7.9 30.5 12.7 47.9 13.3c-28.3-18.9-46.8-51.1-46.8-87.8c0-19.4 5.2-37.3 14.6-52.9c51.6 63.4 128.6 104.9 215.3 109.4c-1.6-7.8-2.6-16-2.6-24.3c0-58.6 47.9-106.4 106.4-106.4c30.6 0 58.3 12.9 77.7 33.5c24.3-4.8 47.2-13.6 67.6-25.8c-8 25-25 46.2-47.2 59.4c21.7-2.3 42.9-8.3 62.1-16.6c-14.3 21.3-32.3 40-53.2 55.1z" />
              </svg>
            </a>
            <a href="https://www.linkedin.com/company/nexusxperts/posts/?feedView=all" target="_blank"
              aria-label="LinkedIn" class="[&>svg]:w-5 [&>svg]:h-5 hover:text-blue-700 transition">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 448 512">
                <path
                  d="M100.3 448H7.4V148.9h92.9zM53.8 108.1C24.1 108.1 0 83.5 0 53.8S24.1-.6 53.8-.6s53.8 24.1 53.8 54.4c0 29.8-24.1 54.3-53.8 54.3zm394.1 339.9h-92.7V302.4c0-34.7-.7-79.2-48.3-79.2c-48.3 0-55.7 37.7-55.7 76.7V448h-92.7V148.9h89.1v40.8c12.4-23.5 42.7-48.3 87.9-48.3c94 0 111.3 61.9 111.3 142.3V448z" />
              </svg>
            </a>
            <a href="https://www.instagram.com/nexus_xperts/" target="_blank" aria-label="Instagram"
              class="[&>svg]:w-5 [&>svg]:h-5 dark:hover:text-pink-200 transition">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2c1.66 0 3 1.34 3 3v10c0 1.66-1.34 3-3 3H7c-1.66 0-3-1.34-3-3V7c0-1.66 1.34-3 3-3h10zm-5 3a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-.75a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z" />
              </svg>
            </a>
          </div>
        </div>

        <!-- Services -->
        <div>
          <h6 class="mb-4 font-semibold uppercase">Services</h6>
          <ul class="space-y-2">
            <li><a href="services.html#ai-ml" class="hover:text-black dark:hover:text-white transition">Generative
                AI/Chatbot</a></li>
            <li><a href="services.html#web-dev" class="hover:text-black dark:hover:text-white transition">Web
                Development</a></li>
            <li><a href="services.html#digital-marketing"
                class="hover:text-black dark:hover:text-white transition">Digital Marketing</a></li>
            <li><a href="services.html#consulting" class="hover:text-black dark:hover:text-white transition">Automation
                Tools</a></li>
            <li><a href="services.html#mobile-dev" class="hover:text-black dark:hover:text-white transition">App Design
                & Develop</a></li>
            <li><a href="services.html#ui-ux" class="hover:text-black dark:hover:text-white transition">UI/UX Design</a>
            </li>
          </ul>
        </div>

        <!-- Quick Links -->
        <div>
          <h6 class="mb-4 font-semibold uppercase">Quick Links</h6>
          <ul class="space-y-2">
            <li><a href="index.html" class="hover:text-black dark:hover:text-white transition">Home</a></li>
            <li><a href="services.html" class="hover:text-black dark:hover:text-white transition">Services</a></li>
            <li><a href="Careers.html" class="hover:text-black dark:hover:text-white transition">Careers</a>
            </li>
            <li><a href="Team.html" class="hover:text-black dark:hover:text-white transition">Our Team</a>
            </li>
            <li><a href="Life.html" class="hover:text-black dark:hover:text-white transition">Life At
                NexusXperts</a></li>
            <li><a href="contact.html#contact" class="hover:text-black dark:hover:text-white transition">Contact Us</a>
            </li>
          </ul>
        </div>

        <!-- Contact -->
        <div>
          <h6 class="mb-4 font-semibold uppercase">Get in Touch</h6>
          <ul class="space-y-2">
            <li>Email: <a href="mailto:info@nexusxperts.com"
                class="hover:text-black dark:hover:text-white transition">info@nexusxperts.com</a></li>
            <li>Phone: <a href="tel:+923399069000" class="hover:text-black dark:hover:text-white transition">+92 339 906
                9000</a></li>
            <li>Location: Pakistan, Lahore</li>
          </ul>
        </div>
      </div>

      <!-- Bottom -->
      <div class="border-t border-gray-300 dark:border-gray-700 p-6 text-center text-sm">
        © 2025 <span class="font-semibold">NexusXperts</span>. All rights reserved.
      </div>
    </footer>
  </div>

  <!-- Toast + Validation + Submit JS -->
  <script>
    // ---- Toast (matched to Apply page style) ----
    function toast(message, type = "info") {
      const root = document.getElementById("toast-root");
      const el = document.createElement("div");

      const accents = {
        success: "bg-emerald-500",
        error: "bg-red-500",
        warn: "bg-amber-500",
        info: "bg-sky-500",
      };

      el.className = [
        "pointer-events-auto",
        "bg-[#263d83] text-white",            // light mode: primary bg
        "dark:bg-white dark:text-[#263d83]",  // dark mode: invert
        "rounded-xl shadow-lg border",        // same rounded + shadow + subtle border
        "border-white/30 dark:border-[#263d83]/20",
        "flex items-start gap-3",
        "w-[min(92vw,420px)] px-4 py-3",
        "opacity-0 translate-y-2 transition-all duration-200 ease-out"
      ].join(" ");

      el.innerHTML = `
        <div class="shrink-0 mt-0.5 w-1.5 h-6 rounded ${accents[type] || accents.info}"></div>
        <div class="text-sm leading-5 grow">${message}</div>
        <button aria-label="Close" class="shrink-0 ml-1 opacity-80 hover:opacity-100 transition">
          <i class="fa-solid fa-xmark"></i>
        </button>
      `;

      el.querySelector("button")?.addEventListener("click", () => {
        el.classList.add("opacity-0", "translate-y-2");
        setTimeout(() => root.contains(el) && root.removeChild(el), 180);
      });

      root.appendChild(el);
      requestAnimationFrame(() => el.classList.remove("opacity-0", "translate-y-2"));
      setTimeout(() => {
        if (!root.contains(el)) return;
        el.classList.add("opacity-0", "translate-y-2");
        setTimeout(() => root.contains(el) && root.removeChild(el), 180);
      }, 5000);
    }

    // ---- Validation helpers ----
    const form = document.getElementById("biz-form");
    const status = document.getElementById("form-status");
    const submitBtn = document.getElementById("submitBtn");
    const submitText = submitBtn.querySelector("span");

    const fields = {
      first_name: { required: true },
      last_name: { required: true },
      email: {
        required: true,
        test: (v) => /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(v),
        msg: "Enter a valid email address."
      },
      phone_cc: {
        required: true,
        test: (v) => /^\+\d{1,4}$/.test(v),
        msg: "Use + and 1–4 digits (e.g., +1, +44, +92)."
      },
      phone: {
        required: true,
        test: (v) => /^\d{6,15}$/.test(v),
        msg: "Enter 6–15 digits (no spaces)."
      },
      budget: { required: true },
      company: { required: true },
      region: {
        required: true,
        test: (v) => !!v,
        msg: "Please select a region."
      },
      services: {
        required: true,
        test: (v) => !!v,
        msg: "Please select a service."
      },
      project_details: { required: true }
    };

    function setFieldError(id, message) {
      const input = document.getElementById(id);
      const err = document.querySelector(`[data-err="${id}"]`);
      if (!input || !err) return;
      input.setAttribute("aria-invalid", "true");
      input.classList.add("border-red-500");
      err.textContent = message;
      err.classList.remove("hidden");
    }

    function clearFieldError(id) {
      const input = document.getElementById(id);
      const err = document.querySelector(`[data-err="${id}"]`);
      if (!input || !err) return;
      input.removeAttribute("aria-invalid");
      input.classList.remove("border-red-500");
      err.textContent = "";
      err.classList.add("hidden");
    }

    function validateForm() {
      let valid = true;
      Object.keys(fields).forEach(clearFieldError);

      Object.entries(fields).forEach(([id, rules]) => {
        const el = document.getElementById(id);
        if (!el) return;
        const val = (el.value || "").trim();

        if (rules.required && !val) {
          setFieldError(id, "This field is required.");
          valid = false;
          return;
        }
        if (rules.test && !rules.test(val)) {
          setFieldError(id, rules.msg || "Invalid value.");
          valid = false;
        }
      });

      if (!valid) {
        toast("Please fix the highlighted fields and try again.", "error");
      }
      return valid;
    }

    // ---- Numeric sanitizers ----
    const ccEl = document.getElementById("phone_cc");
    const phoneEl = document.getElementById("phone");

    if (ccEl) {
      ccEl.addEventListener("beforeinput", (e) => {
        if (e.data && !/[0-9+]/.test(e.data)) e.preventDefault();
      });
      ccEl.addEventListener("input", () => {
        let v = ccEl.value;
        if (!v.startsWith("+")) v = "+" + v.replace(/[^0-9]/g, "");
        const digits = v.slice(1).replace(/\D/g, "");
        ccEl.value = "+" + digits.slice(0, 4);
      });
    }

    if (phoneEl) {
      phoneEl.addEventListener("beforeinput", (e) => {
        if (e.data && /\D/.test(e.data)) e.preventDefault();
      });
      phoneEl.addEventListener("input", () => {
        phoneEl.value = (phoneEl.value || "").replace(/\D/g, "").slice(0, 15);
      });
    }

    // Real-time clear on input/change
    Object.keys(fields).forEach((id) => {
      const el = document.getElementById(id);
      if (!el) return;
      el.addEventListener("input", () => clearFieldError(id));
      el.addEventListener("change", () => clearFieldError(id));
    });

    // ---- Submit handler (AJAX to FormSubmit) ----
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      status.textContent = "";

      if (!validateForm()) return;

      // Loading state
      submitText.textContent = "Sending...";
      submitBtn.disabled = true;
      submitBtn.classList.add("opacity-70", "cursor-not-allowed");

      const data = new FormData(form);
      const cc = (document.getElementById("phone_cc").value || "").trim();
      const num = (document.getElementById("phone").value || "").trim();
      data.append("phone_full", `${cc} ${num}`);

      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: data,
          headers: { Accept: "application/json" },
        });

        if (response.ok) {
          toast("Thanks! Your message has been sent.", "success");
          status.textContent = "Thanks for your message! We’ll get back to you soon.";
          form.reset();
          document.getElementById("phone_cc").value = "+92";
        } else {
          toast("Submission failed. Please try again in a moment.", "error");
          status.textContent = "Oops! Something went wrong. Please try again.";
        }
      } catch (err) {
        toast("Network error. Please check your connection.", "warn");
        status.textContent = "Network error. Please check your connection.";
      } finally {
        submitText.textContent = "Send Message";
        submitBtn.disabled = false;
        submitBtn.classList.remove("opacity-70", "cursor-not-allowed");
      }
    });
  </script>
</body>

</html>
